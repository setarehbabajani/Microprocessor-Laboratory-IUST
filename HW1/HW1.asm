; Setareh Babajani 99521109
.include "M32DEF.INC"
.org 0

		LDI		R16,HIGH(RAMEND)
		OUT		SPH,R16
		LDI		R16,LOW(RAMEND)
		OUT		SPL,R16

		LDI		R16,0xFF
		OUT		DDRB,R16
HERE4:	LDI 	R16,0b00000001
HERE1:	OUT		PORTB,R16
		LSL		R16
		CALL	DELAY
		CPI		R16,0
		BRNE	HERE1
		LDI 	R16,1
		RJMP	HERE2

HERE2:	LDI		R16,0b10000000
HERE3:	OUT		PORTB,R16
		LSR		R16
		CALL	DELAY
		CPI		R16,0
		BRNE	HERE3
		LDI		R16,1
		RJMP	HERE4

DELAY:	LDI 	R20,0xFF
L1:		LDI 	R21,0xFF
L2:		IN		R22,PINA
L3:		DEC		R22
		NOP
		BRNE	L3
		DEC 	R21
		BRNE 	L2
		DEC		R20
		BRNE	L1
		RET
